# UIdesign.md — 画面詳細設計

## 画面構成

```
/ (ホーム・ダッシュボード)
├── /tasks          - 家事管理
├── /expenses       - 費用管理
├── /rules          - ハウスルール
├── /schedule       - スケジュール
├── /shopping       - 買い物リスト
└── /notices        - お知らせ
```

---

## / — ホームダッシュボード

### 家事貢献度ウィジェット

- 円グラフ（簡易版・小サイズ）: 4人の過去30日間の貢献割合をひと目で確認
- 自分の累計ポイントと順位（例: `あなた: 42pt / 2位`）
- 「詳細を見る」→ /tasks へのリンク
- 直近の完了履歴（最新3〜5件）

### その他ウィジェット（暫定）

- 費用残高サマリー
- 直近のお知らせ
- 今週のスケジュール

---

## /tasks — 家事管理画面

### タスク一覧セクション

- カテゴリごとに折りたたみ可能なグループで表示
- 各タスクカード:
  - タスク名
  - ポイント値（例: `+3pt`）
  - 最終完了者の名前・日時（直近の記録を表示）
  - 「完了」ボタン → タップで即時記録（ログイン中のユーザーに紐付け）
  - 完了後は成功フィードバック（アニメーション・ポイント通知）
- 同日に複数人が完了してもそれぞれ記録・ポイント付与される

### 貢献度グラフセクション（詳細版）

- 過去30日間の累計ポイントを円グラフで表示
- 凡例: メンバーアイコン + 名前 + 累計ポイント + 割合（%）
- 直近30日の合計タスク完了数も表示
- 30日スライドウィンドウで毎日自動更新（月をまたいでも連続集計）

### タスク管理セクション（管理者のみ表示）

- タスクの新規追加: タスク名・カテゴリ・ポイント値を入力
- タスクの編集・削除
- カテゴリの追加・並び替え

---

## LINE連携（家事タスク完了）

### リッチメニュー構成（スマホLINE画面下部）

```
┌─────────────┬─────────────┐
│  ゴミ出し   │  キッチン   │
│   完了      │   完了      │
├─────────────┼─────────────┤
│  浴室掃除   │  リビング   │
│   完了      │   完了      │
├─────────────┼─────────────┤
│  洗面所     │  アプリを   │
│   完了      │   開く      │
└─────────────┴─────────────┘
```

- よく使うタスクを最大6枠に配置（管理者が設定・変更可能）
- ボタンタップ → LINEボットへメッセージ送信 → Webhook経由でDB記録
- ボットから完了確認メッセージ返信（例: `✅ ゴミ出しを記録しました！ +1pt`）
- LINEグループ通知: 完了をグループチャットにも通知（例: `Aさんが浴室掃除を完了しました`）

---

## /expenses — 費用管理画面

> 詳細設計 未定

---

## /rules — ハウスルール画面

> 詳細設計 未定

---

## /schedule — スケジュール画面

> 詳細設計 未定

---

## /shopping — 買い物リスト画面

> 詳細設計 未定

---

## /notices — お知らせ画面

> 詳細設計 未定
