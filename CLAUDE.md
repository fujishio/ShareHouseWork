# CLAUDE.md — ShareHouseWork プロジェクト指示書

## プロジェクト概要

4人が住むシェアハウス向けの生活管理Webアプリ。
家事・費用・ルールを一元管理し、LINEと連携する。

---

## 重要ドキュメント

| ファイル | 内容 |
|--------|------|
| `Overview.md` | プロダクト概要・メンバー構成・機能要件・技術スタック・今後の検討事項 |

新しい機能や設計の議論を始める前に、必ずこれらのファイルを読んで現在の状態を把握すること。

---

## 技術スタック

- **フレームワーク:** Next.js (App Router) + TypeScript
- **スタイリング:** Tailwind CSS
- **DB:** PostgreSQL + Prisma ORM
- **認証:** NextAuth.js（LINEログイン）
- **LINE連携:** LINE Messaging API（Webhook）
- **ホスティング:** Vercel + Supabase（または Neon）

---

## 確定済みの設計方針

- 費用管理のスコープは**共益費のみ**（家賃はアプリ外）
- 認証は**LINEログインのみ**（独自アカウント登録なし）
- 家事はフリー制（担当固定なし）、完了した人にポイントが付く
- 家事ポイントは**タスクごとに個別設定**
- 同日に複数人が同じタスクを完了しても**全員にポイント付与**
- 貢献度は**過去30日間のスライドウィンドウ**で集計し円グラフ表示
- LINEリッチメニューからタスク完了を送信できる

---

## ドキュメント運用ルール

- 設計の決定事項は `Overview.md` の「今後の検討事項」を `[x]` に更新して反映
- 画面・UIの詳細は `UIdesign.md` に追記・更新する
- ドキュメントの記述言語は**日本語**
- コードのコメント・変数名は英語で統一する（実装開始後）

---

## リポジトリ公開に関する留意事項

リポジトリは **パブリック（公開設定）** になっている（就職活動用のポートフォリオとして公開中）。

- **秘密情報は絶対にコミットしない**（DB接続文字列・APIキー・トークン類）
- 環境変数は `.env.local` に記述する（`.gitignore` 済み、コミット不可）
- 必要な環境変数の一覧は `.env.example` で管理する（値は空のままコミット）
- 新しい環境変数を追加したら、必ず `.env.example` にも項目を追記する
- コード中に秘密情報をハードコードしない（`process.env.XXX` 経由で参照する）

---

## 未決事項（実装前に決める）

- LINEリッチメニューに載せるタスクの選定（最大6枠）
- LINE通知の粒度（全イベント通知 or 重要なもののみ）
- 管理者権限の有無（全員同権 or 家主のみ管理者）
- データのバックアップ・エクスポート機能の要否
